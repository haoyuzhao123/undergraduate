%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
THIS IS A README FILE THAT HAVE THE INSTRUCTIONS TO COMPILE THE
FILE AND OTHER ACKNOWLEDGEMENT
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
README
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
THIS README IS CREATED BY HAOYU ZHAO
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
1.HOW TO COMPILE OR RUN THE CODE

Fisrt should move the homework_data/ that contains the data into this folder.

Then if you want to run the version with 2 cycles of clustering, if you use a *nix operating system, then you can just run ./project2.sh, this script will first generate the training data by the data in the homework_data/ and then preprocessing the data and run the codes.

If do not use a *nix operating system, then should run the commands by hand just the same as the ./project2.sh

If you want to run the version with 3 cycles of clustering, then you should run ./project2mod.sh.

The codes will generate few .npy files that used by the whole program

The codes will also generate the folder ./rec_clustering/, these are the results of the clustered images that are generated in the different steps of the whole program.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
2.THE DEPENDENCY OF THE CODE AND THE NECESSARY PACKAGES

First like the first project, this project we also use the EMAN2 package to read the .mrc file into the memory and then manipulate the ndarray.

We also use the sklearn machine learning package.

Other packages are numpy, scipy, matplotlib and maybe other system packages.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
3.SOME ILLUSTRATIONS TO THE FOLDERS AND THE FILES IN THIS PROJECT FOLDER

(1) ./labels/: This folder contains the processed data for the location of the particles in each of the micrograph image.

(2) ./raw_kmeans/: This folder just contains 3 test of the kmeans algorithm with the clusters 16, 25, and 36. The images in this folder 
aim to see how well the kmeans algorithm performs. The images don't use the ctf correction.

(3) ./test1/: This folder contains the images that generated by our clustering version that eliminate the the clustering centers of each examples. We do not remain the code of these version of algorithm but the final algorithm can be convert to this easily.

(4) ./rec_clustering_test1/ ./rec_clustering_test2/: These 2 folders contains the images that generated by the 'cycle clustering' algorithm. But I do not use the ctf correction in these 2 experiments.

(5) ./rec_clustering_final/ ./results.txt: These are the results that I get using the final version of algorithm. I use the ctf correction but maybe there is something wrong in the implement of ctf and I don't see cleary differnece before and after the crf correction of the image.

(6) ./ctf_paras.txt: This is the parameters for the 40 micrographs that I use to do the clustering.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
4.THE ILLUSTRATION OF THE CODES IN THE PROJECT

SEE THE PROJECT REPORT FOR DETAIL

THE COMMENTS IN THE CODE CAN ALSO HELP TO GET THE IDEA OF THE CODE.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

